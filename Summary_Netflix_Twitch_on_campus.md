# A Campus-Level View of Netflix and Twitch: Characterization and Performance Implications

[link to paper](https://ieeexplore.ieee.org/document/8046774/)

## In This Paper

The authors collect information about Netflix & Twitch traffic on the U of Calgary campus over a 5 month period (Dec '14-Apr '15) and

- characterize their content access patterns
- characterize the connections established to request content and the responses return to serve video
- identify similarities between Netflix & Twitch

## Data Collection

- At the time of collection, Netflix & Twitch used unencrypted HTTP which allowed authors to identify and analyze video content 
information
- The Bro network security monitor to observe traffic.
- There are **connection logs** have information about each connection (start/end time, duration, number of bytes or packets 
transferred).
- There are **HTTP logs** are used to quantify application-level characteristics (HTTP request/response pair, size of response body, eta).
- They did **not** collect metadata about media file names, types, formats, resolutions, etc, and so could not analyze video bitrates.

## Traffic Characterization

**Traffic Volume**

- 91% of the total inbound campus traffic was TCP. Together, HTTP and HTTPS accounted for 88% of the inbound TCP traffic (1.40 PB).
- the traffic generated by Netflix and Twitch accounts for a large fraction of the inbound data traffic during peak usage hours.

**Traffic Patterns (by time)**

- The high traffic period starts in the late morning, with usage peaking mid-day, and continuing into the late evening (corresponding to when most people are on campus).
- The lighter traffic period starts late in the night and lasts until the early morning. Traffic levels are lower on weekends and during university holiday breaks.
- Netflix often has two distinct peaks per day (early afternoon, one in the evening) (this makes sense since people often watch tv/movies in the evening).
- Twitch only peaks in the afternoon—traffic at night is quite low. This is likely since Twitch is a live-streaming service and content on Twitch is only available when there are streamers active.

**Client Platforms**

- Nearly 40% of the total requests for Netflix were made by mobile devices.
- Twitch is accessed primarily by users on Windows desktop platforms.

## Content Characterization

- A small subset of the content accounts for a large proportion of the traffic from Netflix and Twitch.
- The authors also identify a zipfian distribution in terms of popularity of content with a long tailed power law distribution.
- New content on Netflix often exhibits **short term popularity** (such as when a new season of House of Cards is out). Some other content has **long term popularity** (such as long running favorites like Friends or Grey's Anatomy). This means that that the top monthly Netflix titles are usually the top titles on any given day.
    - **Arshia's note**: this would have interesting implications for how Netflix designs its content distributions algorithms. Content with shorter term popularity is likely swapped out sooner whereas that with longer term popularity is kept around.
- However, Twitch does not have the same behavior. It has a smaller user community, and is heavily driven by **live events**.

## Streaming Protocol Usage

Netflix and Twitch **both use DASH**.

**Connection Characteristics**

- Both Netflix and Twitch use multiple connections per video to transport content — connections are persistent and use pipelined requests.
- Netflix uses **concurrent connections to servers to retrieve content**. Requests made from the different connections may be interleaved.
- However, this behavior was only observed at Twitch only at the start of a new connection. After the initial requests, Twitch uses a single connection.
- The Netflix connections are slightly larger and last longer than Twitch.
    - **Arshia's note**: this is probably because of the live-streaming nature of Twitch.

**HTTP Response Characteristics**

- Response size:
- **Netflix:** Mobile Netflix responses are slightly smaller than desktop responses (probably due to smaller screens). Median Netflix response sizes are **790 KB** and **303 KB**, for desktop and mobile, respectively. (99th percentile response sizes = 3.44 MB and 3.04 MB for desktop and mobile).
- **Twitch:** Most responses from Twitch are **smaller** than Netflix responses. Twitch’s median response length is **460-470 bytes**. (99th percentile response size = 2.05 MB)

## Performance Implications

The authors recommend the following strategies to improve performance, given the high bandwidth requirements of Netflix & Twitch.

- **Caching popular content** by hosting a CDN node on campus.
- Using native IP multicast for Twitch using IPv4 or IPv6. However, this is rarely enabled in enterprise networks. In lieu of this, one could rebroadcast streams locally (i.e. application level multicast through a local CDN node)
    - Arshia's note: talk to him more about this
- Designing the backend with a heterogeneity of client devices (desktop, mobile) in mine.
